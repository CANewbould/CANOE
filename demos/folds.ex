--------------------------------------------------------------------------------
-- Test application: folds.ex
--------------------------------------------------------------------------------
--Version: 4.1.0.0
--Date: 2022.03.02
--Author: C A Newbould
--Status: Complete
--Changes:
--* created
--------------------------------------------------------------------------------
-- Determine output mode
--------------------------------------------------------------------------------
with define IUPWB
--------------------------------------------------------------------------------
-- The source
--------------------------------------------------------------------------------
include ints.e
sequence list = Ints(10)
--------------------------------------------------------------------------------
-- Start output
--------------------------------------------------------------------------------
include io.e
write("<h1>The list</h1>")
writel(list)
--------------------------------------------------------------------------------
-- Define the fold,map and filter functions
--------------------------------------------------------------------------------
function sq(atom a,sequence b)
    return b&a*a
end function
--------------------------------------------------------------------------------
function add(atom a, atom b)
    return b+a
end function
include boolean.e
--------------------------------------------------------------------------------
function even(atom a,sequence b)
    return iif(remainder(a,2),b,b&a)
end function
--------------------------------------------------------------------------------
write("<h2>Squares</h2>")
--------------------------------------------------------------------------------
include sequence.e
writel(foldr(list,"sq"))
--------------------------------------------------------------------------------
write("<h2>Sum of the elements</h2>")
writefln(foldr(list,"add",0)," %d")
--------------------------------------------------------------------------------
writeln("<h2>The even elements</h2>")
writel(foldr(list,"even"))
display("Sequences: Showing how foldr does maps and filters, too!")
--------------------------------------------------------------------------------
-- Previous versions
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
